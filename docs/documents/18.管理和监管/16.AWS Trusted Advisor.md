## AWS Trusted Advisor

AWS Trusted Advisor 是 Amazon Web Services（AWS）提供的一项服务，旨在帮助用户优化其 AWS 使用体验。它提供有关账户的实时建议，涵盖多个方面，包括成本优化、安全性、性能、容错性和服务限制。Trusted Advisor 根据 AWS 最佳实践提供这些建议，旨在提高资源的使用效率并降低潜在风险。

### Trusted Advisor 的功能

#### 1. **检查类型**
AWS Trusted Advisor 提供了多种检查项，主要分为以下几类：

- **成本优化（Cost Optimization）**
  - 检查不再使用的资源（如未使用的 EC2 实例、EBS 卷、Elastic IP 等）。
  - 提供建议以降低开支，例如终止低利用率的实例或使用更合适的实例类型。

- **性能（Performance）**
  - 检查 EC2 实例的利用率，以识别可能需要扩展的资源。
  - 检查 Amazon RDS 的性能，以确保数据库的高效运行。

- **安全性（Security）**
  - 检查是否为 AWS 账户的根用户启用了多因素身份验证（MFA）。
  - 检查 IAM 用户的访问密钥是否已定期轮换。
  - 检查 S3 存储桶的权限设置，以防数据泄露。

- **容错性（Fault Tolerance）**
  - 检查 Amazon RDS 的备份设置是否已启用。
  - 检查是否为关键资源配置了冗余以提高可用性。

- **服务限制（Service Quotas）**
  - 监控 AWS 账户中服务的使用情况，以确保不会超出 AWS 配额限制。
  - 提供资源使用情况的概览，提醒用户及时请求提高配额。

#### 2. **用户界面**
- **仪表板**：Trusted Advisor 提供一个易于使用的仪表板，用户可以在这里查看所有检查的状态和建议。不同的检查以图表和列表的方式展示，便于快速识别问题。
- **分级显示**：每个检查都有优先级（如“严重”、“警告”、“建议”），帮助用户聚焦于最重要的优化建议。

#### 3. **报告和通知**
- 用户可以生成详细的报告，查看所有检查的状态和建议。
- 可以设置通知，了解重要检查的状态变化。

### 使用 AWS Trusted Advisor 的优势

- **提高资源使用效率**：通过识别未使用或低利用率的资源，用户可以有效地管理和优化其 AWS 账户的资源配置。
- **增强安全性**：Trusted Advisor 提供的安全检查帮助用户发现潜在的安全风险，从而保护其数据和应用程序。
- **降低成本**：提供的成本优化建议可以帮助用户减少不必要的支出，实现更好的成本管理。
- **提升系统可靠性**：通过优化容错性和监控服务限制，Trusted Advisor 帮助用户提高应用程序的可用性和可靠性。

### 访问和定价

- **访问方式**：所有 AWS 用户都可以访问 Trusted Advisor，但根据用户的支持计划不同，提供的功能和检查项目可能有所不同。
  - **基本支持计划**：提供部分安全性和服务配额检查。
  - **开发者支持和商业支持计划**：提供更全面的检查。
  - **企业支持计划**：提供所有检查和高级功能。

- **费用**：使用 AWS Trusted Advisor 不会额外收费，用户只需为其使用的 AWS 资源付费。

### 如何开始使用 AWS Trusted Advisor

1. **登录 AWS 管理控制台**。
2. **导航至 Trusted Advisor**：可以在控制台的服务列表中找到 Trusted Advisor。
3. **查看检查状态**：在仪表板中查看所有检查的状态和建议。
4. **采取行动**：根据 Trusted Advisor 提供的建议，优化你的 AWS 环境。

### 总结
AWS Trusted Advisor 是一款强大的工具，帮助用户优化其 AWS 账户的安全性、性能和成本。通过定期监控和应用这些最佳实践，用户能够确保他们的 AWS 环境高效、安全且经济。使用 Trusted Advisor 还可以提高资源的利用率，减少潜在风险，从而更好地支持业务需求。

---

## AWS Trusted Advisor七项核心检查

AWS Trusted Advisor 提供了 **七项核心检查**，帮助用户优化 AWS 环境的安全性、性能、成本效益和弹性。这些核心检查涵盖了 AWS 最佳实践，重点检查影响较大的配置。以下是 Trusted Advisor 的七项核心检查：

### 1. **MFA 在 Root 账户上启用**（MFA on Root Account）
- **目的**：检查是否为 AWS 账户的根用户启用了多因素身份验证（MFA）。
- **重要性**：AWS 根账户拥有对所有 AWS 资源的完全控制权，因此启用 MFA 是增强账户安全性的重要步骤。
- **建议**：如果未启用 MFA，建议立即启用，以防止未经授权的访问。

### 2. **IAM 密钥轮换**（IAM Access Key Rotation）
- **目的**：检查 AWS 账户中 IAM 用户的访问密钥是否已定期轮换。
- **重要性**：如果访问密钥长时间不轮换，存在泄露或被滥用的风险。
- **建议**：确保定期轮换 IAM 用户的访问密钥，特别是密钥的使用时间超过 90 天时。

### 3. **Amazon S3 存储桶权限**（Amazon S3 Bucket Permissions）
- **目的**：检查 S3 存储桶的访问权限，识别是否存在公开可读或可写的存储桶。
- **重要性**：公开的 S3 存储桶可能导致数据泄露或未经授权的访问。
- **建议**：确保存储桶权限设置正确，不公开敏感数据。需要时使用细粒度的权限控制。

### 4. **安全组 - 允许的端口检查**（Security Groups - Specific Ports Unrestricted）
- **目的**：检查 AWS 安全组的配置，识别是否有对所有 IP 地址开放的端口（如 0.0.0.0/0）。
- **重要性**：开放的端口可能导致未授权的访问，尤其是常见端口如 22（SSH）、80（HTTP）、443（HTTPS）。
- **建议**：限制安全组中的开放端口，避免使用 0.0.0.0/0，应该尽可能缩小访问范围。

### 5. **EC2 实例使用率**（EC2 Instance Underutilization）
- **目的**：检查低利用率的 EC2 实例，帮助识别长时间使用率较低的资源。
- **重要性**：低利用率的实例会产生不必要的费用，因此需要考虑关闭或优化实例配置。
- **建议**：对于使用率低的实例，考虑停用、调整实例类型或优化工作负载，以节约成本。

### 6. **EBS 磁盘快照年龄**（EBS Snapshots Age）
- **目的**：检查 EBS 磁盘快照的年龄，提醒你定期删除旧的快照以减少不必要的存储成本。
- **重要性**：旧的快照可能占用大量存储空间，增加存储成本。
- **建议**：定期检查和删除旧快照，确保数据备份策略合理，并且不浪费存储资源。

### 7. **服务限制**（Service Limits）
- **目的**：检查 AWS 账户中资源的使用情况，提醒用户是否接近某些服务的配额限制（如 EC2 实例、Elastic IP 数量等）。
- **重要性**：如果服务接近或达到限制，可能会导致服务中断或无法启动新的资源。
- **建议**：监控资源使用情况，及时提升服务限制，确保生产环境的资源充足。

### 总结
Trusted Advisor 的这七项核心检查覆盖了 AWS 使用中的关键领域，包括安全性、成本优化和资源管理。通过定期监控这些检查，可以主动发现潜在问题并采取行动，提升 AWS 环境的安全性和运行效率。